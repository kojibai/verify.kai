<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- ===========================================================
       PHI Network™ · Sovereign KaiOS Banking Interface
       Sovereign Internet · Sigil-Glyph Ledger · Breath-Sealed Value
       PWA + SEO + Structured Data (Google-optimized)
    ============================================================ -->

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Viewport / Mobile -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <meta name="format-detection" content="telephone=no" />

    <!-- Base (SPA routing + offline asset resolution) -->
    <base href="/" />

    <!-- PWA Manifest / App Name -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="application-name" content="PHI Network" />
    <meta name="apple-mobile-web-app-title" content="PHI Network" />

    <!-- PWA Capabilities -->
    <meta name="theme-color" content="#001622" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />

    <!-- Robots / Indexing: make it clear this is the canonical PHI Network -->
    <meta
      name="robots"
      content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1"
    />
    <meta
      name="googlebot"
      content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1"
    />

    <!-- ===========================================================
       Meta / SEO
       - Primary focus: "PHI Network" + sovereign banking identity
       - Make it explicit this is the official PHI Network app
    ============================================================ -->
    <title>
      PHI Network — Sovereign KaiOS Banking Interface, Sigil-Glyph Ledger & Breath-Sealed Value
    </title>

    <meta
      name="title"
      content="PHI Network — Sovereign KaiOS Banking Interface, Sigil-Glyph Ledger & Breath-Sealed Value"
    />

    <meta
      name="description"
      content="PHI Network is the sovereign Internet banking interface running on KaiOS — a non-custodial sigil-glyph ledger where breath-sealed value, identity, and origin proofs move as native tender inside the Kairos economy."
    />

    <!-- Optional legacy keywords (Google mostly ignores them, but harmless) -->
    <meta
      name="keywords"
      content="PHI Network, Phi Network, sovereign banking, KaiOS, Kairos economy, sigil glyph, breath sealed value, sovereign internet, non custodial wallet, identity ledger"
    />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://phi.network/" />

    <!-- ===========================================================
       Open Graph (Facebook / LinkedIn / etc.)
    ============================================================ -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="PHI Network" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:url" content="https://phi.network/" />

    <meta
      property="og:title"
      content="PHI Network — Sovereign KaiOS Banking Interface on the Sovereign Internet"
    />
    <meta
      property="og:description"
      content="PHI Network is sovereign Internet banking: a KaiOS-native sigil-glyph ledger for breath-sealed value, origin verification, and Kairos-denominated tender inside the PHI economy."
    />
    <meta property="og:image" content="https://phi.network/og-image.png" />

    <!-- ===========================================================
       Twitter Cards
    ============================================================ -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://phi.network/" />
    <meta
      name="twitter:title"
      content="PHI Network — Sovereign KaiOS Banking Interface & Breath-Sealed Value"
    />
    <meta
      name="twitter:description"
      content="Log into the sovereign Internet on KaiOS. Verify sigil-glyphs, move breath-sealed value, and trace origin in a non-custodial PHI Network ledger."
    />
    <meta name="twitter:image" content="https://phi.network/og-image.png" />
    <meta name="twitter:site" content="@phinetwork" />

    <!-- ===========================================================
       Icons / Favicons (Browser + iOS/Android)
       (Update paths if your build outputs different filenames.)
    ============================================================ -->
    <link rel="icon" href="/favicon.ico" sizes="any" />
    <link rel="icon" type="image/png" sizes="32x32" href="/apple-icon.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/apple-icon.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon.png" />
    <!-- Optional: Safari pinned tab (create the asset if you don't have it yet) -->
    <link
      rel="mask-icon"
      href="/safari-pinned-tab.svg"
      color="#00d4ff"
    />

    <!-- ===========================================================
       Preload / Performance hints (optional; adjust to your assets)
       Uncomment and set the hrefs if you have key fonts/assets.
    ============================================================ -->
    <!--
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="preload"
      as="font"
      type="font/woff2"
      href="/fonts/your-primary-font.woff2"
      crossorigin
    />
    -->

    <!-- ===========================================================
       Early beforeinstallprompt capture for Add to Home Screen
    ============================================================ -->
    <script>
      (function () {
        window.__bipEvent = null;
        window.__bipWaiters = [];

        window.addEventListener("beforeinstallprompt", function (e) {
          e.preventDefault();
          window.__bipEvent = e;

          var q = window.__bipWaiters;
          if (q && q.length) {
            for (var i = 0; i < q.length; i++) q[i](e);
            window.__bipWaiters = [];
          }
        });
      })();
    </script>

    <!-- ===========================================================
       Structured Data (JSON-LD)
       - Organization
       - Website
       - WebApplication (KaiOS Sovereign Banking Interface)
       - Financial product (Kairos-denominated unit inside PHI Network)
    ============================================================ -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@graph": [
          {
            "@type": "Organization",
            "@id": "https://phi.network/#organization",
            "name": "PHI Network",
            "url": "https://phi.network/",
            "logo": "https://phi.network/apple-icon.png",
            "sameAs": [
              "https://twitter.com/phi_network",
              "https://github.com/phinetwork",
              "https://instagram.com/phi__network"
            ]
          },
          {
            "@type": "WebSite",
            "@id": "https://phi.network/#website",
            "url": "https://phi.network/",
            "name": "PHI Network — Sovereign KaiOS Banking Interface",
            "inLanguage": "en",
            "publisher": {
              "@id": "https://phi.network/#organization"
            },
            "potentialAction": {
              "@type": "SearchAction",
              "target": "https://phi.network/search?q={search_term_string}",
              "query-input": "required name=search_term_string"
            }
          },
          {
            "@type": "WebApplication",
            "@id": "https://phi.network/#app",
            "name": "PHI Network",
            "alternateName": "Phi Network",
            "operatingSystem": "KaiOS (PHI Network Sovereign Internet Runtime)",
            "applicationCategory": "FinanceApplication",
            "description": "PHI Network is the sovereign Internet banking interface running on KaiOS. It is a non-custodial sigil-glyph ledger where breath-sealed value, identity and origin proofs move as native tender inside the Kairos-denominated PHI economy.",
            "url": "https://phi.network/",
            "image": "https://phi.network/og-image.png",
            "browserRequirements": "Requires JavaScript. Offline capable via Progressive Web App service worker.",
            "offers": {
              "@type": "Offer",
              "price": "0",
              "priceCurrency": "USD"
            },
            "publisher": {
              "@id": "https://phi.network/#organization"
            }
          },
          {
            "@type": "FinancialProduct",
            "@id": "https://phi.network/#phi-unit",
            "name": "Φ — Kairos-Denominated Value Unit",
            "description": "The breath-sealed value unit used inside the PHI Network Kairos economy, designed as sovereign tender within the KaiOS-based PHI Network system.",
            "issuer": {
              "@id": "https://phi.network/#organization"
            }
          }
        ]
      }
    </script>
  </head>

  <body>
    <!-- Fallback content for users without JS (and extra semantics for crawlers) -->
    <noscript>
      <section>
        <h1>PHI Network — Sovereign KaiOS Banking Interface</h1>
        <p>
          PHI Network is the sovereign Internet running on KaiOS — a non-custodial sigil-glyph
          banking interface where breath-sealed value, identity, and origin proofs move as native
          tender inside the Kairos economy. Enable JavaScript to access the full PHI Network app.
        </p>
      </section>
    </noscript>

    <!-- React root (Vite/React bundles hydrate here) -->
    <div id="root"></div>

    <!-- ===========================================================
       Service Worker Registration
       - Robust auto-update + reload
    ============================================================ -->
    <script>
      (function () {
        if (!("serviceWorker" in navigator)) return;

        window.addEventListener("load", function () {
          navigator.serviceWorker
            .register("/service-worker.js", { scope: "/" })
            .then(function (reg) {
              if (reg.waiting) {
                reg.waiting.postMessage("SKIP_WAITING");
              }

              reg.addEventListener("updatefound", function () {
                var sw = reg.installing;
                if (!sw) return;

                sw.addEventListener("statechange", function () {
                  if (sw.state === "installed" && navigator.serviceWorker.controller) {
                    sw.postMessage("SKIP_WAITING");
                  }
                });
              });

              var refreshing = false;
              navigator.serviceWorker.addEventListener("controllerchange", function () {
                if (refreshing) return;
                refreshing = true;
                window.location.reload();
              });
            })
            .catch(function (err) {
              console.warn("SW register failed:", err);
            });
        });
      })();
    </script>

    <!-- ZK Verification Library (snarkjs) -->
    <script src="https://unpkg.com/snarkjs/dist/snarkjs.min.js" defer></script>

    <!-- Preload PHI Network ZK verification key into window.SIGIL_ZK_VKEY -->
    <script>
      (async function () {
        try {
          var res = await fetch("/verification_key.json");
          if (!res.ok) return;
          var v = await res.json();
          window.SIGIL_ZK_VKEY = v;
          window.dispatchEvent(new Event("SIGIL_ZK_VKEY_READY"));
        } catch (e) {
          /* non-fatal */
        }
      })();
    </script>
  </body>
</html>
